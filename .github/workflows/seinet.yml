run:
  tests: false
  timeout: 10m
  build-tags:
    - codeanalysis

linters:
  enable:
    - govet           # Go's standard vet tool
    - errcheck        # Check for unchecked errors
    - staticcheck     # Advanced static analysis
    - ineffassign     # Detect unused assignments
    - gosec           # Security scanner
    - gofmt           # Format check
    - goimports       # Import order and formatting
    - misspell        # Detect commonly misspelled words
    - unconvert       # Detect redundant type conversions
    - stylecheck      # Style rules from go vet
    - goconst         # Find repeated string constants
    - bodyclose       # Detect unclosed response bodies
    - dogsled         # Detect unused assignments with blank identifiers
    - prealloc        # Suggest slice preallocation

issues:
  exclude-rules:
    - text: "Use of weak random number generator"
      linters:
        - gosec
    - text: "ST1003:"  # Don't enforce all-caps constants for now
      linters:
        - stylecheck
    - text: "ST1016:"  # Don't enforce naming of receiver types
      linters:
        - stylecheck

formatters:
  enable:
    - gofmt
    - goimports

output:
  format: github-actions  # so annotations show up in PRs
