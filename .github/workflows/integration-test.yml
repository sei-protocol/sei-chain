# ---------- Forge EVM Tests ----------
forge:
  name: Forge project
  runs-on: ubuntu-latest
  steps:
    - uses: actions/checkout@v4
      with:
        submodules: false

    - name: Install Foundry
      uses: foundry-rs/foundry-toolchain@v1
      with:
        version: nightly

    - name: Install dependencies
      run: |
        forge install foundry-rs/forge-std@v1.8.2
        forge install OpenZeppelin/openzeppelin-contracts@v5.0.2

    - name: Build contracts
      run: |
        forge --version
        forge build --evm-version=prague

    - name: Run Forge tests
      run: |
        forge test -vvv --evm-version=prague
